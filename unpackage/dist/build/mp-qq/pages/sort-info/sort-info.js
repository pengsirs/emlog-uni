"use strict";var t=require("../../common/vendor.js"),e=require("../../api.js");require("../../setting.js");const i={data:()=>({id:"",page:1,dataa:""}),onLoad(t){this.blog(1,t.id)},onReachBottom(){this.page=this.page+1,this.blog(this.page)},onPullDownRefresh(){this.dataa="",this.status="loading",this.page=1,this.blog(this.page),t.index.stopPullDownRefresh()},methods:{delHtmlTag(t){var e=RegExp("<.*?>+|\n|\r","ig");return t.replace(e,"")},imageError(t,e){this.dataa[e].cover="http://cdn.hkiii.cn//img/_2022/06/29/01/38/12/502/6483441/11289324486965076622"},getimg(t){var e=t.match(/<img.+?src=[\'\"]?([^\'\"]*)[\'\"]?/i);return null!=e&&e[1]},toInfo(e,i){t.index.navigateTo({url:"/pages/blog-info/blog-info?id="+e+"&url="+i})},async blog(t,i){const o=await e.myRequest({url:"/?rest-api=article_list",method:"GET",data:{sort_id:i,page:t,count:10}});""==o.data.data.articles?this.status="no-more":this.dataa=[...this.dataa,...o.data.data.articles]}}};if(!Array){(t.resolveComponent("uni-icons")+t.resolveComponent("uni-load-more"))()}Math||((()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+(()=>"../../uni_modules/uni-load-more/components/uni-load-more/uni-load-more.js"))();var o=t._export_sfc(i,[["render",function(e,i,o,a,s,r){return{a:t.f(s.dataa,((e,i,o)=>t.e({a:r.getimg(e.description)||e.cover},r.getimg(e.description)||e.cover?t.e({b:t.o((t=>r.imageError(t,i))),c:e.cover||r.getimg(e.description),d:"y"==e.top},(e.top,{}),{e:t.t(e.title),f:t.t(r.delHtmlTag(e.description)),g:t.t(e.sort_name),h:"4a322462-0-"+o,i:t.p({type:"fire-filled",size:"17"}),j:t.t(e.views),k:"4a322462-1-"+o,l:t.p({type:"chat-filled",size:"17"}),m:t.t(e.comnum),n:t.o((t=>r.toInfo(e.id,e.url)))}):{},{o:!r.getimg(e.description)&&""==e.cover},r.getimg(e.description)||""!=e.cover?{}:t.e({p:"y"==e.top},(e.top,{}),{q:t.t(e.title),r:t.t(r.delHtmlTag(e.description)),s:t.t(e.sort_name),t:"4a322462-2-"+o,v:t.p({type:"fire-filled",size:"17"}),w:t.t(e.views),x:"4a322462-3-"+o,y:t.p({type:"chat-filled",size:"17"}),z:t.t(e.comnum),A:t.o((t=>r.toInfo(e.id,e.url)))}),{B:i}))),b:t.p({color:"#007AFF",status:e.status})}}]]);qq.createPage(o);
