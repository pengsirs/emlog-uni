"use strict";exports.Search=function(e){e.search=function(t,n,l="background-color:yellow"){const s=[],i=[];return function c(h){for(let o=0;o<h.length;o++){let r=h[o];if("text"===r.type&&t){const c=r.text,a=c.split(t);if(a.length>1){r={name:"span",attrs:{},type:"node",c:n?1:void 0,s:1,children:[]},e.$set(h,o,r);for(let e=0;e<a.length;e++)a[e]&&r.children.push({type:"text",text:a[e]}),e!==a.length-1&&(r.children.push({name:"span",attrs:{id:n?"search"+(s.length+1):void 0,style:l},children:[{type:"text",text:t instanceof RegExp?t.exec(c)[0]:t}]}),s.push(r.children[r.children.length-1].attrs));if(t instanceof RegExp&&t.exec(c),n)for(let t=i.length;t--&&!i[t].c;)e.$set(i[t],"c",1)}}else if(r.s){let n="";for(let e=0;e<r.children.length;e++){const t=r.children[e];t.text?n+=t.text:n+=t.children[0].text}e.$set(h,o,{type:"text",text:n}),t&&(t instanceof RegExp?t.test(n):n.includes(t))&&o--}else r.children&&(i.push(r),c(r.children),i.pop())}}(e.nodes),new Promise((function(t){setTimeout((()=>{t({num:s.length,highlight(e,t="background-color:#FF9632"){e<1||e>s.length||(this.last&&(s[this.last-1].style=l),this.last=e,s[e-1].style=t)},jump:n?(t,n)=>{t>0&&t<=s.length&&e.navigateTo("search"+t,n)}:void 0})}),200)}))}};
