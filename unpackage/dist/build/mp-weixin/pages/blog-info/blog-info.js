"use strict";var t=require("../../common/vendor.js"),a=require("../../api.js"),e=require("../../setting.js");const i={data:()=>({tagStyle:{blockquote:"max-width:100%;border-radius:5px;background:#eee;padding:5px;",table:"width:100%;border:1px #eee solid;",td:"border:1px #eee solid;text-align:center;",th:"border:1px #eee solid;background-color:#ffc09f;"},data:{},haibao:"",url:"",arrays:[0],content:"<div style='background:#eee;height:25px;width:50%;border-radius:5px;margin-top:10px;'></div><div style='background:#eee;height:20px;width:80%;border-radius:5px;margin-top:10px;'></div><div style='background:#eee;height:20px;width:70%;border-radius:5px;margin-top:10px;'></div><div style='background:#eee;height:20px;width:50%;border-radius:5px;margin-top:10px;'></div><div style='background:#eee;height:20px;width:90%;border-radius:5px;margin-top:10px;'></div><div style='background:#eee;height:20px;width:30%;border-radius:5px;margin-top:10px;'></div><div style='background:#eee;height:25px;width:50%;border-radius:5px;margin-top:10px;'></div><div style='background:#eee;height:250px;width:100%;border-radius:5px;margin:10px auto;'></div>"}),onLoad(t){this.blog(t.id),this.id=t.id,this.url=decodeURIComponent(t.url),this.show=!this.show,this.modeClass="fade",this.addll(t.id)},onShow(){var a=this;t.index.getStorage({key:"appData",success:function(t){a.appData=t.data},fail(){a.getData()}})},onShareAppMessage(t){return"button"===t.from&&console.log(t.target),{title:this.data.title,imageUrl:this.data.cover||this.appData.data.shareimg,path:"pages/blog-info/blog-info?id="+this.data.id+"&url="+this.url}},methods:{addll(a){t.index.request({url:e.set.url+"/"+a,method:"GET",timeout:"1000"})},weixin(a){t.index.share({provider:"weixin",scene:a,title:this.data.title,type:0,href:this.url,imageUrl:this.data.cover||this.appData.data.shareimg,summary:"我正在查看文章"+this.data.title+"，赶紧跟我一起来体验！",success:function(t){console.log("success:"+JSON.stringify(t))},fail:function(t){console.log("fail:"+JSON.stringify(t))}})},qq(){t.index.share({provider:"qq",type:0,title:this.data.title,summary:"我正在查看文章"+this.data.title+"，赶紧跟我一起来体验！",imageUrl:this.data.cover||this.appData.data.shareimg,href:this.url,success:function(t){console.log("success:"+JSON.stringify(t))},fail:function(t){console.log("fail:"+JSON.stringify(t))}})},home(){t.index.reLaunch({url:"../index/index"})},wenti(){t.index.navigateTo({url:"../about/help?id="+this.id})},down(){t.index.navigateTo({url:"../down/down?id="+this.id})},async getData(){const i=await a.htRequest({url:"/index.php/index/index/get_miniapp",method:"POST",data:{setapi:e.set.setapi}});this.appData=i.data,t.index.setStorage({key:"appData",data:i.data})},async blog(t){var i=this.arrays;const o=await a.myRequest({url:"/?rest-api=article_detail",method:"GET",data:{id:t}});o.data.data.article.content=o.data.data.article.content.replace(/\<img/gi,'<img class="rich-img" '),o.data.data.article.content=o.data.data.article.content.replace(/\<h1/gi,'<h1 class="rich-h1" '),o.data.data.article.content=o.data.data.article.content.replace(/\<h2/gi,'<h2 class="rich-h2" '),o.data.data.article.content=o.data.data.article.content.replace(/\<h3/gi,'<h3 class="rich-h3" '),o.data.data.article.content=o.data.data.article.content.replace(/\<h4/gi,'<h4 class="rich-h4" '),o.data.data.article.content=o.data.data.article.content.replace(/\<h5/gi,'<h5 class="rich-h5" '),o.data.data.article.content=o.data.data.article.content.replace(/\<h6/gi,'<h6 class="rich-h6" '),o.data.data.article.content=o.data.data.article.content.replace(/\/content\/upload/gi,e.set.url+"/content/upload"),o.data.data.article.content=o.data.data.article.content.replace(/百度网盘/gi,"****"),i=o.data.data.article.content.match(/<a (.*)a>/gi)?o.data.data.article.content.match(/<a (.*)a>/gi):"";for(var n=0;n<i.length;n++)"-1"==i[n].indexOf("<img")&&(console.log(i[n].indexOf("<img")),o.data.data.article.content=o.data.data.article.content.replace(i[n],'<a class="aaa">请查看附件说明</a> '));this.data=o.data.data.article}}};if(!Array){(t.resolveComponent("uni-icons")+t.resolveComponent("mp-html")+t.resolveComponent("uni-transition")+t.resolveComponent("uni-collapse-items")+t.resolveComponent("uni-collapses"))()}Math||((()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+(()=>"../../uni_modules/mp-html/components/mp-html/mp-html.js")+(()=>"../../uni_modules/uni-transition/components/uni-transition/uni-transition.js")+(()=>"../../uni_modules/uni-collapses/components/uni-collapse-items/uni-collapse-items.js")+(()=>"../../uni_modules/uni-collapses/components/uni-collapses/uni-collapses.js"))();var o=t._export_sfc(i,[["render",function(a,e,i,o,n,d){return t.e({a:t.t(n.data.title||"标题加载中..."),b:t.p({color:"green",type:"person",size:"14"}),c:t.t(n.data.author_name||"作者"),d:t.p({color:"red",type:"fire",size:"14"}),e:t.t(n.data.views||"暂无浏览"),f:t.p({color:"blue",type:"calendar",size:"14"}),g:t.t(n.data.date||"1970-01-01 00:00:00"),h:t.p({"lozy-load":"true","container-style":"overflow: hidden;",selectable:"true","tag-style":n.tagStyle,content:n.data.content}),i:t.t(n.data.title),j:t.t(n.data.author_name||"作者"),k:t.t(n.data.author_name||"作者"),l:t.t(n.data.author_name||"作者"),m:t.sr("ani","67bc634c-0"),n:t.p({"custom-class":"transition","mode-class":a.modeClass,styles:a.styles,show:a.show}),o:t.p({type:"home-filled",color:"#564aff",size:"30"}),p:t.o((t=>d.home())),q:t.p({type:"chat-filled",color:"#fd7058",size:"30"}),r:t.o((t=>d.wenti())),s:1!=a.appData.downurl},1!=a.appData.downurl?{t:t.p({type:"download-filled",color:"#fec855",size:"30"}),v:t.o((t=>d.down()))}:{},{w:t.p({type:"paperplane-filled",color:"#42ff48",size:"30"}),x:t.p({title:"文章扩展","show-animation":!0})})}]]);i.__runtimeHooks=2,wx.createPage(o);
